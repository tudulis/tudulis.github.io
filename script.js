function DisplayTodos(){const e=document.querySelector("#todo-list");e.innerHTML="",todos.forEach((t=>{const o=document.createElement("div");o.classList.add("todo-item");const d=document.createElement("label"),n=document.createElement("input"),s=document.createElement("span"),a=document.createElement("div"),c=document.createElement("div"),i=document.createElement("button"),l=document.createElement("button");n.type="checkbox",n.checked=t.done,s.classList.add("bubble"),"pribadi"==t.category?s.classList.add("pribadi"):s.classList.add("produktivitas"),a.classList.add("todo-content"),c.classList.add("actions"),i.classList.add("edit"),l.classList.add("delete"),a.innerHTML=`<div role="textbox" class="list" contenteditable="false">${t.content}`,i.innerHTML="Ubah",l.innerHTML="Hapus",d.appendChild(n),d.appendChild(s),c.appendChild(i),c.appendChild(l),o.appendChild(d),o.appendChild(a),o.appendChild(c),e.appendChild(o),t.done&&o.classList.add("done"),n.addEventListener("change",(e=>{t.done=e.target.checked,localStorage.setItem("todos",JSON.stringify(todos)),t.done?o.classList.add("done"):o.classList.remove("done"),DisplayTodos()})),i.addEventListener("click",(()=>{const e=a.querySelector("div");e.setAttribute("contenteditable",!0),e.focus(),e.addEventListener("blur",(()=>{t.content=a.innerText,localStorage.setItem("todos",JSON.stringify(todos)),DisplayTodos()}))})),l.addEventListener("click",(()=>{todos=todos.filter((e=>e!=t)),localStorage.setItem("todos",JSON.stringify(todos)),DisplayTodos()}))}))}window.addEventListener("load",(()=>{todos=JSON.parse(localStorage.getItem("todos"))||[];const e=document.querySelector("#name"),t=document.querySelector("#new-todo-form"),o=localStorage.getItem("username")||"";e.value=o,e.addEventListener("change",(e=>{localStorage.setItem("username",e.target.value)})),t.addEventListener("submit",(e=>{if(e.preventDefault(),""==content.innerHTML)Swal.fire({icon:"error",title:"Uups...",text:"Tudu kamu masih kosong!ðŸ˜­"});else{const t={content:content.innerHTML,category:e.target.elements.category.value,done:!1,createdAt:(new Date).getTime()};todos.push(t),sorted_todos=todos.sort((function(e,t){return t.createdAt-e.createdAt})),localStorage.setItem("todos",JSON.stringify(sorted_todos)),content.innerHTML=null,DisplayTodos()}})),DisplayTodos()}));
